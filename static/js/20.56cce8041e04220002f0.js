webpackJsonp([20],{"92K4":function(e,t){},AuI8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),o=r("NYxO"),s={name:"Order",components:{BaseTable:function(){return r.e(87).then(r.bind(null,"ss0d"))}},created:function(){this.$store.dispatch("initOrderFormData")},data:function(){return{params:{insMonth:"",secondOrg:"",thirdOrg:"",channel:"",carFlag:""},thirdOrgList:[],rules:{},currentInfoCode:[],queryColumn:[],infoColumn:[]}},methods:{getThridOrg:function(e){var t=this.orderFormData.orgList.find(function(t){return t.code===e});this.thirdOrgList=t.children},query:function(){this.$store.dispatch("getOrderTableData")},exportOrder:function(){var e=this;this.$confirm("确定导出该清单吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){e.$message({type:"success",message:"清单导出成功!"})}).catch(function(){})}},computed:a()({currentInfoList:function(){var e=this;return this.currentInfoCode.map(function(t){return e.orderFormData.infoList.find(function(e){return e.code===t})})},columns:function(){return this.queryColumn.concat(this.infoColumn)}},Object(o.c)({orderFormData:function(e){return e.chart.orderFormData},orderTableData:function(e){return e.chart.orderTableData}})),watch:{orderFormData:function(e){var t=this;this.queryColumn=[],this.queryColumn.push({prop:"insMonth",width:120,label:"承保月份"}),this.queryColumn.push({prop:"secondOrg",width:120,label:"二级机构"}),this.queryColumn.push({prop:"thirdOrg",width:120,label:"三级机构"}),e.queryList.forEach(function(e){t.queryColumn.push({prop:e.code,label:e.name,width:e.width})})},currentInfoList:function(e){var t=this;this.infoColumn=[],e.forEach(function(e){t.infoColumn.push({prop:e.code,label:e.name,width:e.width})})}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"form"},[r("el-form",{ref:"orderForm",attrs:{"label-width":"180px",model:e.params,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"承保月份",prop:"insMonth"}},[r("el-select",{attrs:{placeholder:"请选择承保月份"},model:{value:e.params.insMonth,callback:function(t){e.$set(e.params,"insMonth",t)},expression:"params.insMonth"}},e._l(e.orderFormData.insMonthList,function(e){return r("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"二级机构",prop:"secondOrg"}},[r("el-select",{attrs:{placeholder:"请选择二级机构"},on:{change:e.getThridOrg},model:{value:e.params.secondOrg,callback:function(t){e.$set(e.params,"secondOrg",t)},expression:"params.secondOrg"}},e._l(e.orderFormData.orgList,function(e){return r("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"三级机构",prop:"thirdOrg"}},[r("el-select",{attrs:{placeholder:"请选择三级机构"},model:{value:e.params.thirdOrg,callback:function(t){e.$set(e.params,"thirdOrg",t)},expression:"params.thirdOrg"}},e._l(e.thirdOrgList,function(e){return r("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),e._l(e.orderFormData.queryList,function(t){return r("el-form-item",{key:t.code,attrs:{label:t.name,prop:t.name}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.params[t.code],callback:function(r){e.$set(e.params,t.code,r)},expression:"params[query.code]"}},e._l(t.detail,function(e){return r("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1)})],2)],1),e._v(" "),r("div",{staticClass:"sector-list"},[r("div",{staticClass:"title"},[e._v("选择信息项")]),e._v(" "),r("div",{staticClass:"biz-sector"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form",{attrs:{"label-width":"120px",inline:!0}},[r("el-form-item",[r("el-checkbox-group",{model:{value:e.currentInfoCode,callback:function(t){e.currentInfoCode=t},expression:"currentInfoCode"}},e._l(e.orderFormData.infoList,function(t){return r("el-checkbox",{key:t.code,attrs:{label:t.code}},[e._v(e._s(t.name))])}))],1)],1)],1)],1)],1)]),e._v(" "),r("div",{staticClass:"option"},[r("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:e.query}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:e.exportOrder}},[e._v("导出")])],1),e._v(" "),r("div",{staticClass:"data"},[r("div",{staticClass:"table"},[r("base-table",{attrs:{columns:e.columns,data:e.orderTableData}})],1)])])},staticRenderFns:[]};var l=r("VU/8")(s,i,!1,function(e){r("92K4")},"data-v-a59f415c",null);t.default=l.exports}});