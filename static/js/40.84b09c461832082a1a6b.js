webpackJsonp([40],{DeW3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),i=n("NYxO"),c={name:"index",components:{BaseTable:function(){return n.e(80).then(n.bind(null,"ss0d"))}},data:function(){return{params:{orgcd:"",channelcd:"",flag:"new"},rules:{},columnShowList:[],dimList:[{code:"carPrice",name:"新车购置价",width:120},{code:"usage",name:"使用性质",width:120},{code:"nAge",name:"年龄",width:120},{code:"nInsCom",name:"投保组合",width:220}],columns:[],columns1:[],columns2:[],indexShow:!1,indexList:[{code:"totalPremium",name:"保费收入(万元)",width:120},{code:"premiumAccount",name:"保费占比(%)",width:120},{code:"comFullRate",name:"商业险满期赔付率(含IBNR)",width:220},{code:"comFinalRate",name:"商业险终极赔付率",width:220},{code:"comOpeCostRate",name:"商业险经营成本率(%)",width:220},{code:"forceFullRate",name:"交强险满期赔付率(%)(含IBNR)",width:240},{code:"forceFinalRate",name:"交强险终极赔付率(%)",width:220},{code:"forceOpeCostRate",name:"交强险经营成本率(%)",width:220},{code:"comPer",name:"商业险保费占比",width:210},{code:"forcePer",name:"交强险保费占比",width:210},{code:"uLossRatio",name:"车险终极赔付率(%)",width:180},{code:"uLossRatioROB",name:"终极赔付率风险等级分类(%)",width:220},{code:"comAutoAvg",name:"商业险自主系数平均值",width:210},{code:"comMarketAvg",name:"商业险市场费用率平均值",width:220},{code:"comMarketUpPer",name:"商业险市场费用率上限占比",width:220},{code:"comMarketDownPer",name:"商业险市场费用率下限占比",width:220}],currentIndexCode:[]}},created:function(){this.$store.dispatch("initFormData")},computed:o()({currentIndexList:function(){var t=this;return this.currentIndexCode.map(function(e){return t.indexList.find(function(t){return t.code===e})})}},Object(i.c)({formData:function(t){return t.chart.formData},tableData:function(t){return t.chart.tableData}})),methods:{query:function(){this.$store.dispatch("getTabData")},dimShow:function(t){var e=this;this.columns1=[],t.forEach(function(t){var n=e.dimList.find(function(e){return e.code===t});e.columns1.push({prop:n.code,label:n.name,width:n.width})}),this.columns=[],this.columns=this.columns.concat(this.columns1),this.columns=this.columns.concat(this.columns2)},flagChange:function(t){this.columnShowList=[],this.dimList="new"===t?[{code:"carPrice",name:"新车购置价",width:120},{code:"usage",name:"使用性质",width:120},{code:"nAge",name:"年龄",width:120},{code:"nInsCom",name:"投保组合",width:220}]:"old"===t?[{code:"lastYearCount",name:"商业险上年出险次数",width:180},{code:"lastYearAmount",name:"商业险上年出险金额",width:180},{code:"oAge",name:"年龄",width:120},{code:"oInsCom",name:"投保组合",width:220}]:[]},addIndex:function(t){if(!this.currentIndexCode.includes(t)){this.currentIndexCode.push(t);var e=this.indexList.find(function(e){return e.code===t});this.columns2.push({prop:e.code,label:e.name,width:e.width}),this.columns=[],this.columns=this.columns.concat(this.columns1),this.columns=this.columns.concat(this.columns2)}},removeIndex:function(t){this.currentIndexCode.splice(this.currentIndexCode.indexOf(t),1);var e=this.columns2.findIndex(function(e){return e.prop===t});this.columns2.splice(e,1),this.columns=[],this.columns=this.columns.concat(this.columns1),this.columns=this.columns.concat(this.columns2)},chartShow:function(){this.$router.push({path:"/admin/chart/main"})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"form"},[n("el-form",{ref:"chartForm",attrs:{"label-width":"120px",model:t.params,rules:t.rules,inline:!0}},[n("el-form-item",{attrs:{label:"机构:",prop:"org"}},[n("el-select",{attrs:{placeholder:"请选择机构"},model:{value:t.params.orgcd,callback:function(e){t.$set(t.params,"orgcd",e)},expression:"params.orgcd"}},t._l(t.formData.orgList,function(t){return n("el-option",{key:t.code,attrs:{value:t.code,label:t.name}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"渠道:",prop:"channel"}},[n("el-select",{attrs:{placeholder:"请选择渠道"},model:{value:t.params.channelcd,callback:function(e){t.$set(t.params,"channelcd",e)},expression:"params.channelcd"}},t._l(t.formData.channelList,function(e){return n("el-option",{key:e.code,attrs:{value:e.code,label:e.name}},[1===e.flag?n("span",[t._v("   ")]):t._e(),t._v(" "),n("span",[t._v(t._s(e.name))])])}))],1),t._v(" "),n("el-form-item",{attrs:{label:"新旧车标志:",prop:"flag"}},[n("el-radio-group",{on:{change:t.flagChange},model:{value:t.params.flag,callback:function(e){t.$set(t.params,"flag",e)},expression:"params.flag"}},[n("el-radio",{attrs:{label:"new"}},[t._v("新车")]),t._v(" "),n("el-radio",{attrs:{label:"old"}},[t._v("旧车")])],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"sector-list"},[n("div",{staticClass:"title"},[t._v("选择维度")]),t._v(" "),n("div",{staticClass:"biz-sector"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form",{attrs:{"label-width":"120px",inline:!0}},[n("el-form-item",[n("el-checkbox-group",{on:{change:t.dimShow},model:{value:t.columnShowList,callback:function(e){t.columnShowList=e},expression:"columnShowList"}},t._l(t.dimList,function(e){return n("el-checkbox",{key:e.code,attrs:{label:e.code}},[t._v(t._s(e.name))])}))],1)],1)],1)],1)],1)]),t._v(" "),n("div",{staticClass:"sector-list"},[n("div",{staticClass:"title"},[t._v("选择指标")]),t._v(" "),n("div",{staticClass:"biz-sector"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("div",{staticClass:"tag"},[t._l(t.currentIndexList,function(e){return n("el-tag",{key:e.code,attrs:{closable:"",type:"primary"},on:{close:function(n){t.removeIndex(e.code)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])}),t._v(" "),n("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-plus"},on:{click:function(e){t.indexShow=!0}}},[t._v("新增指标")])],2)])])],1)],1)]),t._v(" "),n("div",{staticClass:"option"},[n("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:t.query}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:t.chartShow}},[t._v("图表展示")])],1),t._v(" "),n("div",{staticClass:"data"},[n("div",{staticClass:"table"},[n("base-table",{attrs:{columns:t.columns,data:t.tableData}})],1)]),t._v(" "),n("el-dialog",{attrs:{title:"选择指标",visible:t.indexShow,width:"30%"},on:{"update:visible":function(e){t.indexShow=e}}},t._l(t.indexList,function(e){return n("el-tag",{key:e.code,attrs:{type:t.currentIndexCode.includes(e.code)?"primary":"info"},nativeOn:{click:function(n){t.addIndex(e.code)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))],1)},staticRenderFns:[]};var l=n("VU/8")(c,s,!1,function(t){n("QWqk")},"data-v-49869e7c",null);e.default=l.exports},QWqk:function(t,e){}});