webpackJsonp([46],{"+71F":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),s=i("NYxO"),o=i("Z4dx"),r={name:"CustomDimension",components:{BackButton:function(){return i.e(81).then(i.bind(null,"uOVF"))},BizSectorList:function(){return i.e(83).then(i.bind(null,"jpoa"))},TagDimension:function(){return i.e(99).then(i.bind(null,"RXyt"))},RangeDimension:function(){return i.e(96).then(i.bind(null,"t+1g"))},BaseTable:function(){return i.e(80).then(i.bind(null,"ss0d"))}},data:function(){return{baseRecommend:[],currentSector:0,dimensionList:[],currentCustomDimension:[],currentDimensionDetail:[],currentDimension:"",dimensionColumns:[{prop:"no",title:"序号",width:50,align:"center"},{prop:"tag",title:"标签",width:200,align:"center"},{prop:"range",title:"标签范围",width:128,align:"center"},{prop:"a",title:"满期赔付率（%）",width:140,align:"center"},{prop:"b",title:"合并终极赔付率（%）",width:160,align:"center"},{prop:"c",title:"保费占比（%）",width:120,align:"center"}],currentDimensionData:[{id:"comLastCount",type:"tag",title:"商业险上年出险次数",tags:[{code:"noCom",name:"未投保商业险"},{code:"newCar",name:"新车"},{code:"newIns",name:"新保"},{code:"no3",name:"连续3年+未出险"},{code:"no2",name:"连续2年未出险"},{code:"no1",name:"上年未出险"},{code:"1",name:"1次"},{code:"2",name:"2次"},{code:"3",name:"3次"},{code:"4",name:"4次"},{code:"5",name:"5次+"}],split:[{id:"1",title:"未投保商业险",tags:["noCom"]},{id:"2",title:"0次",tags:["newCar","newIns","no3","no2","no1"]},{id:"3",title:"1次",tags:["1"]},{id:"4",title:"2次",tags:["2"]},{id:"5",title:"3次及以上",tags:["3","4","5"]}]},{id:"age",type:"range",title:"年龄",list:[{id:"1",isEdit:!1,title:"20以下",start:"0",end:"20"},{id:"2",isEdit:!1,title:"20-30",start:"20",end:"30"},{id:"3",isEdit:!1,title:"30-45",start:"30",end:"45"},{id:"4",isEdit:!1,title:"45-60",start:"45",end:"60"},{id:"5",isEdit:!1,title:"60以上",start:"60",end:"N"}]},{id:"rci",type:"range",title:"商业险上年出险金额",list:[{id:"1",isEdit:!1,title:"1000以下",start:"0",end:"1000"},{id:"2",isEdit:!1,title:"1000-2000",start:"1000",end:"2000"},{id:"3",isEdit:!1,title:"2000-5000",start:"2000",end:"5000"},{id:"4",isEdit:!1,title:"5000-10000",start:"5000",end:"10000"},{id:"5",isEdit:!1,title:"10000以上",start:"10000",end:"N"}]}],dialogTableVisible:!1,dimensionDialogVisible:!1,rangeShow:"",dimComVisible:!1,dimComCol:[{prop:"carPrice",width:120,label:"新车购置价"},{prop:"usage",width:120,label:"使用性质"},{prop:"age",width:120,label:"年龄"},{prop:"insCom",width:120,label:"投保组合"}],dimComData:[{carPrice:"0-10万",usage:"家庭自用",age:"20-30",insCom:"单商_单三_无附加"},{carPrice:"0-10万",usage:"家庭自用",age:"20-30",insCom:"交商_交三_无附加"},{carPrice:"0-10万",usage:"家庭自用",age:"30-45",insCom:"单商_单三_无附加"},{carPrice:"0-10万",usage:"家庭自用",age:"30-45",insCom:"交商_交三_无附加"},{carPrice:"0-10万",usage:"营业出租租赁",age:"20-30",insCom:"单商_单三_无附加"},{carPrice:"0-10万",usage:"营业出租租赁",age:"20-30",insCom:"交商_交三_无附加"},{carPrice:"0-10万",usage:"营业出租租赁",age:"30-45",insCom:"单商_单三_无附加"},{carPrice:"0-10万",usage:"营业出租租赁",age:"30-45",insCom:"交商_交三_无附加"},{carPrice:"10-25万",usage:"家庭自用",age:"20-30",insCom:"单商_单三_无附加"},{carPrice:"10-25万",usage:"家庭自用",age:"20-30",insCom:"交商_交三_无附加"},{carPrice:"10-25万",usage:"家庭自用",age:"30-45",insCom:"单商_单三_无附加"},{carPrice:"10-25万",usage:"家庭自用",age:"30-45",insCom:"交商_交三_无附加"},{carPrice:"10-25万",usage:"营业出租租赁",age:"20-30",insCom:"单商_单三_无附加"},{carPrice:"10-25万",usage:"营业出租租赁",age:"20-30",insCom:"交商_交三_无附加"},{carPrice:"10-25万",usage:"营业出租租赁",age:"30-45",insCom:"单商_单三_无附加"},{carPrice:"10-25万",usage:"营业出租租赁",age:"30-45",insCom:"交商_交三_无附加"}]}},created:function(){var e=this;Object(o.a)(this.param).then(function(t){e.baseRecommend=t.data;var i=t.data.map(function(e){return{id:e.id,name:e.name}});e.$store.commit("SET_SECTORS",i),e.loadDimension(),e.currentDimension=t.data[0].dimensionList[0].code,e.currentDimensionDetail=t.data[0].dimensionList[0].detail,e.rangeShow=t.data[0].dimensionList[0].rangeShow})},computed:a()({},Object(s.c)({sectors:function(e){return e.individual.sectors},param:function(e){return e.individual.param},tableHeader:function(e){return e.app.tableHeader}}),{customerDimensionList:function(){var e=this;return this.currentCustomDimension.map(function(t){return e.dimensionList.find(function(e){return e.code===t})})},leftDimensionList:function(){var e=this;return this.dimensionList.filter(function(t){return!e.currentCustomDimension.includes(t.code)})}}),methods:{loadDimension:function(){this.dimensionList=this.baseRecommend[this.currentSector].dimensionList.map(function(e){return{code:e.code,name:e.name}}),this.currentCustomDimension=this.baseRecommend[this.currentSector].recommendDimension},getClassBySector:function(e){this.currentSector=this.sectors.findIndex(function(t){return t.id===e}),this.loadDimension();var t=this.baseRecommend[this.currentSector].dimensionList[0];this.currentDimension=t.code,this.currentDimensionDetail=t.detail,this.rangeShow=t.rangeShow},getDimComBySector:function(e){},addDimension:function(e){this.currentCustomDimension.includes(e)||(this.currentCustomDimension.push(e),"forceLastPay"===e&&this.currentDimensionData.push({id:"forceLastPay",type:"range",title:"交强险上年出险金额",list:[]}))},removeDimension:function(e){var t=this.currentDimensionData.findIndex(function(t){return t.id===e});this.currentDimensionData.splice(t,1),this.currentCustomDimension.splice(this.currentCustomDimension.indexOf(e),1)},dimensionDetail:function(e){this.currentDimension=e;var t=this.baseRecommend[this.currentSector].dimensionList.find(function(t){return t.code===e});this.rangeShow=t.rangeShow,this.currentDimensionDetail=t.detail},confirm:function(){this.$router.push({path:"/admin/individual/declare/confirm"})}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"biz-content"},[i("biz-sector-list",{attrs:{title:"选择业务板块",sectors:e.sectors},on:{sectorClick:e.getClassBySector}}),e._v(" "),i("div",{attrs:{id:"custom_latitude"}},[i("div",{staticClass:"tableSector"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"grid-content bg-purple-light"},[i("div",{staticClass:"tag"},[e._l(e.customerDimensionList,function(t){return i("el-tag",{key:t.code,attrs:{closable:"",type:e.currentDimension===t.code?"primary":"info"},on:{close:function(i){e.removeDimension(t.code)}},nativeOn:{click:function(i){e.dimensionDetail(t.code)}}},[e._v("\n                "+e._s(t.name)+"\n              ")])}),e._v(" "),i("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dimensionDialogVisible=!0}}},[e._v("新增维度")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"text",icon:"iconfont icon-bianji",size:"small"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("编辑")])],2),e._v(" "),i("el-table",{attrs:{data:e.currentDimensionDetail,stripe:"","header-cell-style":e.tableHeader,height:"400px"}},[i("el-table-column",{attrs:{"header-align":"center",prop:"no",label:"序号","min-width":"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{"header-align":"center",prop:"tag",label:"标签","min-width":"200",align:"center"}}),e._v(" "),e.rangeShow?i("el-table-column",{attrs:{"header-align":"center",prop:"range",label:"标签范围","min-width":"250",align:"center"}}):e._e(),e._v(" "),e.rangeShow?e._e():i("el-table-column",{attrs:{"header-align":"center",prop:"down",label:"从()","min-width":"125",align:"center"}}),e._v(" "),e.rangeShow?e._e():i("el-table-column",{attrs:{"header-align":"center",prop:"up",label:"至(不含)","min-width":"125",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{"header-align":"center",prop:"a",label:"满期赔付率（%）","min-width":"140",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{"header-align":"center",prop:"b",label:"合并终极赔付率（%）","min-width":"160",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{"header-align":"center",prop:"c",label:"保费占比（%）","min-width":"120",align:"center"}})],1)],1)])],1)],1)]),e._v(" "),i("div",{staticClass:"option"},[i("back-button",[e._v("上一步")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){e.dimComVisible=!0}}},[e._v("查看全部维度组合")]),e._v(" "),i("back-button",{attrs:{type:"next"},on:{next:e.confirm}},[e._v("下一步")])],1),e._v(" "),i("el-dialog",{attrs:{title:"编辑维度",fullscreen:"",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[e._l(e.currentDimensionData,function(t){return["tag"===t.type?i("tag-dimension",{key:t.id,attrs:{data:t}}):e._e(),e._v(" "),"range"===t.type?i("range-dimension",{key:t.id,attrs:{data:t}}):e._e()]}),e._v(" "),i("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("保存维度")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("关闭")])],1)],2),e._v(" "),i("el-dialog",{attrs:{title:"添加维度",visible:e.dimensionDialogVisible,width:"30%"},on:{"update:visible":function(t){e.dimensionDialogVisible=t}}},e._l(e.dimensionList,function(t){return i("el-tag",{key:t.code,attrs:{type:e.currentCustomDimension.includes(t.code)?"primary":"info"},nativeOn:{click:function(i){e.addDimension(t.code)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),e._v(" "),i("el-dialog",{attrs:{title:"查看全部维度组合",fullscreen:"",visible:e.dimComVisible},on:{"update:visible":function(t){e.dimComVisible=t}}},[i("span",[e._v("机构:北京分公司"+e._s(this.param.orgcd))]),e._v(" "),i("span",[e._v("渠道:传统渠道"+e._s(this.param.channelcd))]),e._v(" "),i("biz-sector-list",{attrs:{title:"选择业务板块",sectors:e.sectors},on:{sectorClick:e.getDimComBySector}}),e._v(" "),i("base-table",{attrs:{columns:e.dimComCol,data:e.dimComData}})],1)],1)},staticRenderFns:[]};var l=i("VU/8")(r,c,!1,function(e){i("SfFO")},"data-v-3f531608",null);t.default=l.exports},SfFO:function(e,t){}});