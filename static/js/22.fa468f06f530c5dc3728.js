webpackJsonp([22],{czlG:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("Dd8w"),r=o.n(a),i=o("NYxO"),n={name:"Price",components:{BasePagination:function(){return o.e(90).then(o.bind(null,"aTIo"))}},data:function(){return{dataHidden:!0,queryData:{type:"",org:"50000",channel:"001",version:"50000201801010900",startDate:"2018-01-01",endDate:"2018-03-01"},rules:{type:[{required:!0,trigger:"change",message:"检视类型不能为空"}],org:[{required:!0,trigger:"change",message:"所属机构不能为空"}],channel:[{required:!0,trigger:"change",message:"所属渠道不能为空"}],startDate:[{required:!0,trigger:"blur",message:"起始日期不能为空"}],endDate:[{required:!0,trigger:"blur",message:"截止日期不能为空"}]},showLabel:"定价策略版本号",typeList:[{code:"person",name:"定价策略预测对比-个车"},{code:"protocol",name:"定价策略预测对比-协议"}],orgList:[{code:"10000",name:"北京分公司"},{code:"20000",name:"上海分公司"},{code:"30000",name:"江苏省分公司"},{code:"40000",name:"山东省分公司"},{code:"50000",name:"山西省分公司"}],channelList:[{code:"001",name:"传统渠道"},{code:"002",name:"网电渠道"}],columns:[{prop:"priceVersion",label:"定价策略版本号",width:120,isShow:!1},{prop:"bizSector",label:"业务板块",width:120,isShow:!1},{prop:"bizType",label:"业务小类",width:120,isShow:!1},{prop:"protocolNo",label:"协议号",width:120,isShow:!1},{prop:"protocolName",label:"协议名称",width:120,isShow:!1},{prop:"inspectIndex",label:"检视指标",width:120,isShow:!0},{prop:"inspectResult",label:"检视结果",width:120,isShow:!0},{prop:"inspectDate",label:"检视日期",width:120,isShow:!0}],currentPage:1,pageSize:5,data:[],personData:[{priceVersion:"50000201801010900",bizSector:"家用-新车",bizType:"单交,单商_单三_无附加",protocolNo:"",protocolName:"",inspectIndex:"保费收入-实际值",inspectResult:"超过预算200万",inspectDate:"2018-01-21"},{priceVersion:"50000201801010900",bizSector:"家用-新车",bizType:"单交,单商_单三_有附加",protocolNo:"",protocolName:"",inspectIndex:"保费收入占比",inspectResult:"超过预算5%",inspectDate:"2018-01-21"},{priceVersion:"50000201801010900",bizSector:"家用-新车",bizType:"单交,单商_损三_无附加",protocolNo:"",protocolName:"",inspectIndex:"经营成本率-对比差值",inspectResult:"超过预算3%",inspectDate:"2018-01-21"},{priceVersion:"50000201801010900",bizSector:"家用-旧车",bizType:"单交,单商_损三_有附加",protocolNo:"",protocolName:"",inspectIndex:"市场费用率-实际值",inspectResult:"超过预算10%",inspectDate:"2018-01-21"},{priceVersion:"50000201801010900",bizSector:"家用-旧车",bizType:"单交,交商_交三_无附加",protocolNo:"",protocolName:"",inspectIndex:"保费收入-实际值",inspectResult:"超过预算100万",inspectDate:"2018-01-21"},{priceVersion:"50000201801010900",bizSector:"家用-旧车",bizType:"单交,交商_交三_有附加",protocolNo:"",protocolName:"",inspectIndex:"保费收入占比",inspectResult:"超过预算3%",inspectDate:"2018-01-21"}],protocolData:[{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101010001",protocolName:"2018机动车辆投保协议",inspectIndex:"保费收入-实际值",inspectResult:"超过预算200万",inspectDate:"2018-01-21"},{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101020001",protocolName:"2018非机动车辆投保协议",inspectIndex:"保费收入占比",inspectResult:"超过预算5%",inspectDate:"2018-01-21"},{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101030001",protocolName:"2018营业出租客车投保协议",inspectIndex:"经营成本率-对比差值",inspectResult:"超过预算3%",inspectDate:"2018-01-21"},{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101040001",protocolName:"2018营业租赁客车投保协议",inspectIndex:"市场费用率-实际值",inspectResult:"超过预算10%",inspectDate:"2018-01-21"},{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101050001",protocolName:"2018非营业企业客车投保协议",inspectIndex:"保费收入-实际值",inspectResult:"超过预算100万",inspectDate:"2018-01-21"},{priceVersion:"",bizSector:"",bizType:"",protocolNo:"20180101060001",protocolName:"2018非营业企业货车投保协议\n",inspectIndex:"保费收入占比",inspectResult:"超过预算3%",inspectDate:"2018-01-21"}]}},methods:{typeChange:function(e){this.currentPage=1,"person"===e?(this.showLabel="定价策略版本号",this.columns.forEach(function(e){"priceVersion"===e.prop||"bizSector"===e.prop||"bizType"===e.prop?e.isShow=!0:"protocolNo"!==e.prop&&"protocolName"!==e.prop||(e.isShow=!1)}),this.data=this.personData,this.dataHidden=!1):"protocol"===e?(this.showLabel="协议号",this.columns.forEach(function(e){"priceVersion"===e.prop||"bizSector"===e.prop||"bizType"===e.prop?e.isShow=!1:"protocolNo"!==e.prop&&"protocolName"!==e.prop||(e.isShow=!0)}),this.data=this.protocolData,this.dataHidden=!1):(this.showLabel="定价策略版本号",this.columns.forEach(function(e){"priceVersion"===e.prop||"bizSector"===e.prop||"bizType"===e.prop?e.isShow=!0:"protocolNo"!==e.prop&&"protocolName"!==e.prop||(e.isShow=!1)}),this.data=[],this.dataHidden=!0)},resetForm:function(){},searchData:function(){var e=this;this.$refs.queryForm.validate(function(t){t&&(e.currentPage=1,"person"===e.queryData.type?(e.columns.forEach(function(e){"priceVersion"===e.prop||"bizSector"===e.prop||"bizType"===e.prop?e.isShow=!0:"protocolNo"!==e.prop&&"protocolName"!==e.prop||(e.isShow=!1)}),e.data=e.personData,e.dataHidden=!1):"protocol"===e.queryData.type?(e.columns.forEach(function(e){"priceVersion"===e.prop||"bizSector"===e.prop||"bizType"===e.prop?e.isShow=!1:"protocolNo"!==e.prop&&"protocolName"!==e.prop||(e.isShow=!0)}),e.data=e.protocolData,e.dataHidden=!1):(e.data=[],e.dataHidden=!0))})},exportData:function(){},dataChange:function(e,t){this.pageSize=e,this.currentPage=t}},computed:r()({curData:function(){var e=[],t=(this.currentPage-1)*this.pageSize,o=this.currentPage*this.pageSize;o=o>this.data.length?this.data.length:o;for(var a=t;a<o;++a)e.push(this.data[a]);return e}},Object(i.c)({tableHeader:function(e){return e.app.tableHeader}}))},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"form"},[o("el-form",{ref:"queryForm",attrs:{"label-width":"160px",model:e.queryData,rules:e.rules,inline:!0}},[o("el-form-item",{attrs:{label:"检视类型",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择检视类型"},on:{change:e.typeChange},model:{value:e.queryData.type,callback:function(t){e.$set(e.queryData,"type",t)},expression:"queryData.type"}},e._l(e.typeList,function(e){return o("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"所属机构",prop:"org"}},[o("el-select",{attrs:{placeholder:"请选择所属机构"},model:{value:e.queryData.org,callback:function(t){e.$set(e.queryData,"org",t)},expression:"queryData.org"}},e._l(e.orgList,function(e){return o("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"所属渠道",prop:"channel"}},[o("el-select",{attrs:{placeholder:"请选择所属渠道"},model:{value:e.queryData.channel,callback:function(t){e.$set(e.queryData,"channel",t)},expression:"queryData.channel"}},e._l(e.channelList,function(e){return o("el-option",{key:e.code,attrs:{value:e.code,label:e.name}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:e.showLabel,prop:"version"}},[o("el-input",{model:{value:e.queryData.version,callback:function(t){e.$set(e.queryData,"version",t)},expression:"queryData.version"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"起始日期",prop:"startDate"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择起始日期"},model:{value:e.queryData.startDate,callback:function(t){e.$set(e.queryData,"startDate",t)},expression:"queryData.startDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"截止日期",prop:"endDate"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择截止日期"},model:{value:e.queryData.endDate,callback:function(t){e.$set(e.queryData,"endDate",t)},expression:"queryData.endDate"}})],1)],1)],1),e._v(" "),o("div",{staticClass:"option"},[o("el-button",{attrs:{plain:"",type:"primary",size:"small"},on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{plain:"",type:"primary",size:"small"},on:{click:e.searchData}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{plain:"",type:"primary",size:"small"},on:{click:e.exportData}},[e._v("导出")])],1),e._v(" "),o("div",{staticClass:"data",attrs:{hidden:e.dataHidden},on:{"update:hidden":function(t){e.dataHidden=t}}},[o("div",{staticClass:"table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.curData,stripe:"","header-cell-style":e.tableHeader}},e._l(e.columns,function(t){return t.isShow?o("el-table-column",{key:t.prop,attrs:{"header-align":"center",align:"center",prop:t.prop,label:t.label,"min-width":t.width}}):e._e()})),e._v(" "),o("base-pagination",{attrs:{total:e.data.length},on:{dataChange:e.dataChange}})],1)])])},staticRenderFns:[]};var s=o("VU/8")(n,p,!1,function(e){o("k2Fe")},"data-v-737091f0",null);t.default=s.exports},k2Fe:function(e,t){}});